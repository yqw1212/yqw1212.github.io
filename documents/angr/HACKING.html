
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>How to Contribute Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="HELPWANTED.html" />
    
    
    <link rel="prev" href="INSTALL.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Introductory Errata
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="INSTALL.html">
            
                <a href="INSTALL.html">
            
                    
                    Installing
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.2" data-path="HACKING.html">
            
                <a href="HACKING.html">
            
                    
                    How to Contribute
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="HELPWANTED.html">
            
                <a href="HELPWANTED.html">
            
                    
                    What to Contribute
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="docs/faq.html">
            
                <a href="docs/faq.html">
            
                    
                    Frequently Asked Questions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Core Concepts
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="docs/toplevel.html">
            
                <a href="docs/toplevel.html">
            
                    
                    Top Level Interfaces
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="docs/loading.html">
            
                <a href="docs/loading.html">
            
                    
                    Loading a Binary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="docs/solver.html">
            
                <a href="docs/solver.html">
            
                    
                    Solver Engine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="docs/states.html">
            
                <a href="docs/states.html">
            
                    
                    Program State
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="docs/pathgroups.html">
            
                <a href="docs/pathgroups.html">
            
                    
                    Simulation Managers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="docs/simulation.html">
            
                <a href="docs/simulation.html">
            
                    
                    Execution Engines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="docs/analyses.html">
            
                <a href="docs/analyses.html">
            
                    
                    Analyses
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="docs/be_creative.html">
            
                <a href="docs/be_creative.html">
            
                    
                    Remarks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Built-in Analyses
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="docs/analyses/cfg.html">
            
                <a href="docs/analyses/cfg.html">
            
                    
                    CFG
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="docs/analyses/backward_slice.html">
            
                <a href="docs/analyses/backward_slice.html">
            
                    
                    Backward Slicing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="docs/analyses/identifier.html">
            
                <a href="docs/analyses/identifier.html">
            
                    
                    Function Identifier
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Advanced Topics
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="docs/gotchas.html">
            
                <a href="docs/gotchas.html">
            
                    
                    Gotchas
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="docs/pipeline.html">
            
                <a href="docs/pipeline.html">
            
                    
                    The Whole Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="docs/mixins.html">
            
                <a href="docs/mixins.html">
            
                    
                    The Mixin Pattern
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="docs/speed.html">
            
                <a href="docs/speed.html">
            
                    
                    Optimizing Symbolic Execution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="docs/file_system.html">
            
                <a href="docs/file_system.html">
            
                    
                    The Emulated Filesystem
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="docs/ir.html">
            
                <a href="docs/ir.html">
            
                    
                    Intermediate Representation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="docs/structured_data.html">
            
                <a href="docs/structured_data.html">
            
                    
                    Working with Data and Conventions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="docs/claripy.html">
            
                <a href="docs/claripy.html">
            
                    
                    Claripy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="docs/concretization_strategies.html">
            
                <a href="docs/concretization_strategies.html">
            
                    
                    Symbolic Memory Addressing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="docs/java_support.html">
            
                <a href="docs/java_support.html">
            
                    
                    Java Symbolic Execution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11" data-path="docs/symbion.html">
            
                <a href="docs/symbion.html">
            
                    
                    Symbion
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Extending angr
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="docs/simprocedures.html">
            
                <a href="docs/simprocedures.html">
            
                    
                    Programming SimProcedures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="docs/state_plugins.html">
            
                <a href="docs/state_plugins.html">
            
                    
                    Writing State Plugins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="docs/environment.html">
            
                <a href="docs/environment.html">
            
                    
                    Extending the Environment Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="docs/exploration_techniques.md">
            
                <span>
            
                    
                    TODO: Writing Exploration Techniques
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="docs/analysis_writing.html">
            
                <a href="docs/analysis_writing.html">
            
                    
                    Writing Analyses
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="docs/angr-bf.md">
            
                <span>
            
                    
                    TODO: Adding Support for New Architectures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="docs/angr_management.html">
            
                <a href="docs/angr_management.html">
            
                    
                    Scripting angr management
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="docs/examples.html">
            
                <a href="docs/examples.html">
            
                    
                    Examples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    Appendix
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="docs/appendices/ops.html">
            
                <a href="docs/appendices/ops.html">
            
                    
                    List of Claripy Operations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="docs/appendices/options.html">
            
                <a href="docs/appendices/options.html">
            
                    
                    List of State Options
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="CHANGELOG.html">
            
                <a href="CHANGELOG.html">
            
                    
                    Changelog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="MIGRATION.html">
            
                <a href="MIGRATION.html">
            
                    
                    Migrating to angr 8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="docs/migration-7.html">
            
                <a href="docs/migration-7.html">
            
                    
                    Migrating to angr 7
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >How to Contribute</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="reporting-bugs">Reporting Bugs</h1>
<p>If you&apos;ve found something that angr isn&apos;t able to solve and appears to be a bug, please let us know!</p>
<ol>
<li>Create a fork off of angr/binaries and angr/angr</li>
<li>Give us a pull request with angr/binaries, with the binaries in question</li>
<li>Give us a pull request for angr/angr, with testcases that trigger the binaries in <code>angr/tests/broken_x.py</code>, <code>angr/tests/broken_y.py</code>, etc</li>
</ol>
<p>Please try to follow the testcase format that we have (so the code is in a test_blah function), that way we can very easily merge that and make the scripts run.<br>An example is:</p>
<pre><code class="lang-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_some_broken_feature</span><span class="hljs-params">()</span>:</span>
    p = angr.Project(<span class="hljs-string">&quot;some_binary&quot;</span>)
    result = p.analyses.SomethingThatDoesNotWork()
    <span class="hljs-keyword">assert</span> result == <span class="hljs-string">&quot;what it should *actually* be if it worked&quot;</span>

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:
    test_some_broken_feature()
</code></pre>
<p>This will <em>greatly</em> help us recreate your bug and fix it faster.<br>The ideal situation is that, when the bug is fixed, your testcases passes (i.e., the assert at the end does not raise an AssertionError).<br>Then, we can just fix the bug and rename <code>broken_x.py</code> to <code>test_x.py</code> and the testcase will run in our internal CI at every push, ensuring that we do not break this feature again.</p>
<h1 id="developing-angr">Developing angr</h1>
<p>These are some guidelines so that we can keep the codebase in good shape!</p>
<h2 id="coding-style">Coding style</h2>
<p>We try to get as close as the <a href="http://legacy.python.org/dev/peps/pep-0008/" target="_blank">PEP8 code convention</a> as is reasonable without being dumb. If you use Vim, the <a href="https://github.com/klen/python-mode" target="_blank">python-mode</a> plugin does all you need. You can also <a href="https://wiki.python.org/moin/Vim" target="_blank">manually configure</a> vim to adopt this behavior.</p>
<p>Most importantly, please consider the following when writing code as part of angr:</p>
<ul>
<li><p>Try to use attribute access (see the <code>@property</code> decorator) instead of getters and setters wherever you can. This isn&apos;t Java, and attributes enable tab completion in iPython. That being said, be reasonable: attributes should be fast. A rule of thumb is that if something could require a constraint solve, it should not be an attribute.</p>
</li>
<li><p>Use <a href="https://github.com/angr/angr-dev/blob/master/pylintrc" target="_blank">our <code>.pylintrc</code> from the angr-dev repo</a>. It&apos;s fairly permissive, but our CI server will fail your builds if pylint complains under those settings.</p>
</li>
<li><p>DO NOT, under ANY circumstances, <code>raise Exception</code> or <code>assert False</code>. <strong>Use the right exception type</strong>. If there isn&apos;t a correct exception type, subclass the core exception of the module that you&apos;re working in (i.e., <code>AngrError</code> in angr, <code>SimError</code> in SimuVEX, etc) and raise that. We catch, and properly handle, the right types of errors in the right places, but <code>AssertionError</code> and <code>Exception</code> are not handled anywhere and force-terminate analyses.</p>
</li>
<li><p>Avoid tabs; use space indentation instead. Even though it&apos;s wrong, the de facto standard is 4 spaces. It is a good idea to adopt this from the beginning, as merging code that mixes both tab and space indentation is awful.</p>
</li>
<li><p>Avoid super long lines. It&apos;s okay to have longer lines, but keep in mind that long lines are harder to read and should be avoided. Let&apos;s try to stick to <strong>120 characters</strong>.</p>
</li>
<li><p>Avoid extremely long functions, it is often better to break them up into smaller functions.</p>
</li>
<li><p>Always use <code>_</code> instead of <code>__</code> for private members (so that we can access them when debugging). <em>You</em> might not think that anyone has a need to call a given function, but trust us, you&apos;re wrong.</p>
</li>
</ul>
<h2 id="documentation">Documentation</h2>
<p>Document your code. Every <em>class definition</em> and <em>public function definition</em> should have some description of:</p>
<ul>
<li>What it does.</li>
<li>What are the type and the meaning of the parameters.</li>
<li>What it returns.</li>
</ul>
<p>Class docstrings will be enforced by our linter.
Do <em>not</em> under any circumstances write a docstring which doesn&apos;t provide more information than the name of the class.
What you should try to write is a description of the environment that the class should be used in.
If the class should not be instantiated by end-users, write a description of where it will be generated and how instances can be acquired.
If the class should be instanciated by end-users, explain what kind of object it represents at its core, what behavior is expected of its parameters, and how to safely manage objects of its type.</p>
<p>We use <a href="http://www.sphinx-doc.org/en/stable/" target="_blank">Sphinx</a> to generate the API documentation. Sphinx supports docstrings written in <a href="http://openalea.gforge.inria.fr/doc/openalea/doc/_build/html/source/sphinx/rest_syntax.html#auto-document-your-python-code" target="_blank">ReStructured Text</a> with special <a href="http://www.sphinx-doc.org/en/stable/domains.html#info-field-lists" target="_blank">keywords</a> to document function and class parameters, return values, return types, members, etc.</p>
<p>Here is an example of function documentation. Ideally the parameter descriptions should be aligned vertically to make the docstrings as readable as possible.</p>
<pre><code class="lang-python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">prune</span><span class="hljs-params">(self, filter_func=None, from_stash=None, to_stash=None)</span>:</span>
    <span class="hljs-string">&quot;&quot;&quot;
    Prune unsatisfiable paths from a stash.

    :param filter_func: Only prune paths that match this filter.
    :param from_stash:  Prune paths from this stash. (default: &apos;active&apos;)
    :param to_stash:    Put pruned paths in this stash. (default: &apos;pruned&apos;)
    :returns:           The resulting PathGroup.
    :rtype:             PathGroup
    &quot;&quot;&quot;</span>
</code></pre>
<p>This format has the advantage that the function parameters are clearly identified in the generated documentation. However, it can make the documentation repetitive, in some cases a textual description can be more readable. Pick the format you feel is more appropriate for the functions or classes you are documenting.</p>
<pre><code class="lang-python"> <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">read_bytes</span><span class="hljs-params">(self, addr, n)</span>:</span>
    <span class="hljs-string">&quot;&quot;&quot;
    Read `n` bytes at address `addr` in memory and return an array of bytes.
    &quot;&quot;&quot;</span>
</code></pre>
<h2 id="unit-tests">Unit tests</h2>
<p>If you&apos;re pushing a new feature and it is not accompanied by a test case it <strong>will be broken</strong> in very short order. Please write test cases for your stuff.</p>
<p>We have an internal CI server to run tests to check functionality and regression on each commit. In order to have our server run your tests, write your tests in a format acceptable to <a href="https://nose.readthedocs.org/en/latest/" target="_blank">nosetests</a> in a file matching <code>test_*.py</code> in the <code>tests</code> folder of the appropriate repository. A test file can contain any number of functions of the form <code>def test_*():</code> or classes of the form <code>class Test*(unittest.TestCase):</code>. Each of them will be run as a test, and if they raise any exceptions or assertions, the test fails. Do not use the <code>nose.tools.assert_*</code> functions, as we are presently trying to migrate to <code>nose2</code>. Use <code>assert</code> statements with descriptive messages or the <code>unittest.TestCase</code> assert methods.</p>
<p>Look at the existing tests for examples. Many of them use an alternate format where the <code>test_*</code> function is actually a generator that yields tuples of functions to call and their arguments, for easy parametrization of tests. </p>
<p>Finally, do not add docstrings to your test functions.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="INSTALL.html" class="navigation navigation-prev " aria-label="Previous page: Installing">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="HELPWANTED.html" class="navigation navigation-next " aria-label="Next page: What to Contribute">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"How to Contribute","level":"1.2.2","depth":2,"next":{"title":"What to Contribute","level":"1.2.3","depth":2,"path":"HELPWANTED.md","ref":"HELPWANTED.md","articles":[]},"previous":{"title":"Installing","level":"1.2.1","depth":2,"path":"INSTALL.md","ref":"INSTALL.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"HACKING.md","mtime":"2021-07-15T09:05:26.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-08-01T08:40:14.923Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

