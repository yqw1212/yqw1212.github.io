
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Extending the Environment Model Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="exploration_techniques.md" />
    
    
    <link rel="prev" href="state_plugins.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Introductory Errata
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../INSTALL.html">
            
                <a href="../INSTALL.html">
            
                    
                    Installing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../HACKING.html">
            
                <a href="../HACKING.html">
            
                    
                    How to Contribute
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../HELPWANTED.html">
            
                <a href="../HELPWANTED.html">
            
                    
                    What to Contribute
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="faq.html">
            
                <a href="faq.html">
            
                    
                    Frequently Asked Questions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Core Concepts
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="toplevel.html">
            
                <a href="toplevel.html">
            
                    
                    Top Level Interfaces
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="loading.html">
            
                <a href="loading.html">
            
                    
                    Loading a Binary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="solver.html">
            
                <a href="solver.html">
            
                    
                    Solver Engine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="states.html">
            
                <a href="states.html">
            
                    
                    Program State
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="pathgroups.html">
            
                <a href="pathgroups.html">
            
                    
                    Simulation Managers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="simulation.html">
            
                <a href="simulation.html">
            
                    
                    Execution Engines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="analyses.html">
            
                <a href="analyses.html">
            
                    
                    Analyses
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="be_creative.html">
            
                <a href="be_creative.html">
            
                    
                    Remarks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Built-in Analyses
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="analyses/cfg.html">
            
                <a href="analyses/cfg.html">
            
                    
                    CFG
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="analyses/backward_slice.html">
            
                <a href="analyses/backward_slice.html">
            
                    
                    Backward Slicing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="analyses/identifier.html">
            
                <a href="analyses/identifier.html">
            
                    
                    Function Identifier
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Advanced Topics
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="gotchas.html">
            
                <a href="gotchas.html">
            
                    
                    Gotchas
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="pipeline.html">
            
                <a href="pipeline.html">
            
                    
                    The Whole Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="mixins.html">
            
                <a href="mixins.html">
            
                    
                    The Mixin Pattern
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="speed.html">
            
                <a href="speed.html">
            
                    
                    Optimizing Symbolic Execution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="file_system.html">
            
                <a href="file_system.html">
            
                    
                    The Emulated Filesystem
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="ir.html">
            
                <a href="ir.html">
            
                    
                    Intermediate Representation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="structured_data.html">
            
                <a href="structured_data.html">
            
                    
                    Working with Data and Conventions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="claripy.html">
            
                <a href="claripy.html">
            
                    
                    Claripy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="concretization_strategies.html">
            
                <a href="concretization_strategies.html">
            
                    
                    Symbolic Memory Addressing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="java_support.html">
            
                <a href="java_support.html">
            
                    
                    Java Symbolic Execution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11" data-path="symbion.html">
            
                <a href="symbion.html">
            
                    
                    Symbion
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Extending angr
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="simprocedures.html">
            
                <a href="simprocedures.html">
            
                    
                    Programming SimProcedures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="state_plugins.html">
            
                <a href="state_plugins.html">
            
                    
                    Writing State Plugins
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.6.3" data-path="environment.html">
            
                <a href="environment.html">
            
                    
                    Extending the Environment Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="exploration_techniques.md">
            
                <span>
            
                    
                    TODO: Writing Exploration Techniques
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="analysis_writing.html">
            
                <a href="analysis_writing.html">
            
                    
                    Writing Analyses
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="angr-bf.md">
            
                <span>
            
                    
                    TODO: Adding Support for New Architectures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="angr_management.html">
            
                <a href="angr_management.html">
            
                    
                    Scripting angr management
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="examples.html">
            
                <a href="examples.html">
            
                    
                    Examples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    Appendix
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="appendices/ops.html">
            
                <a href="appendices/ops.html">
            
                    
                    List of Claripy Operations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="appendices/options.html">
            
                <a href="appendices/options.html">
            
                    
                    List of State Options
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../CHANGELOG.html">
            
                <a href="../CHANGELOG.html">
            
                    
                    Changelog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../MIGRATION.html">
            
                <a href="../MIGRATION.html">
            
                    
                    Migrating to angr 8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="migration-7.html">
            
                <a href="migration-7.html">
            
                    
                    Migrating to angr 7
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Extending the Environment Model</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="extending-the-environment-model">Extending the Environment Model</h1>
<p>One of the biggest issues you may encounter while using angr to analyze programs is an incomplete model of the environment, or the APIs, surrounding your program.
This usually takes the form of syscalls or dynamic library calls, or in rare cases, loader artifacts.
angr provides a convenient interface to do most of these things!</p>
<p>Everything discussed here involves writing SimProcedures, so <a href="simprocedures.html">make sure you know how to do that!</a>.</p>
<p>Note that this page should be treated as a narrative document, not a reference document, so you should read it at least once start to end.</p>
<h2 id="setup">Setup</h2>
<p>You <em>probably</em> want to have a development install of angr, i.e. set up with the script in the <a href="https://github.com/angr/angr-dev" target="_blank">angr-dev repository</a>.
It is remarkably easy to add new API models by just implementing them in certain folders of the angr repository.
This is also desirable because any work you do in this field will almost always be useful to other people, and this makes it extremely easy to submit a pull request.</p>
<p>However, if you want to do your development out-of-tree, you want to work against a production version of angr, or you want to make customized versions of already-implemented API functions, there are ways to incorporate your extensions programmatically.
Both these techniques, in-tree and out-of-tree, will be documented at each step.</p>
<h2 id="dynamic-library-functions---import-dependencies">Dynamic library functions - import dependencies</h2>
<p>This is the easiest case, and the case that SimProcedures were originally designed for.</p>
<p>First, you need to write a SimProcedure representing the function.
Then you need to let angr know about it.</p>
<h3 id="case-1-in-tree-development-simlibraries-and-catalogues">Case 1, in-tree development: SimLibraries and catalogues</h3>
<p>angr has a magical folder in its repository, <a href="https://github.com/angr/angr/tree/master/angr/procedures" target="_blank">angr/procedures</a>.
Within it are all the SimProcedure implementations that come bundled with angr as well as information about what libraries implement what functions.</p>
<p>Each folder in the <code>procedures</code> directory corresponds to some sort of <em>standard</em>, or a body that specifies the interface part of an API and its semantics.
We call each folder a <em>catalog</em> of procedures.
For example, we have <code>libc</code> which contains the functions defined by the C standard library, and a separate folder <code>posix</code> which contains the functions defined by the posix standard.
There is some magic which automatically scrapes these folders in the <code>procedures</code> directory and organizes them into the <code>angr.SIM_PROCEDURES</code> dict.
For example, <code>angr/procedures/libc/printf.py</code> contains both <code>class printf</code> and <code>class __printf_chk</code>, so there exists both <code>angr.SIM_PROCEDURES[&apos;libc&apos;][&apos;printf&apos;]</code> and <code>angr.SIM_PROCEDURES[&apos;libc&apos;][&apos;__printf_chk&apos;]</code>.</p>
<p>The purpose of this categorization is to enable easy sharing of procedures among different libraries.
For example. libc.so.6 contains all the C standard library functions, but so does msvcrt.dll!
These relationships are represented with objects called <code>SimLibraries</code> which represent an actual shared library file, its functions, and their metadata.
Take a look at <a href="http://angr.io/api-doc/angr.html#angr.procedures.definitions.SimLibrary" target="_blank">the API reference for SimLibrary</a> along with <a href="https://github.com/angr/angr/blob/master/angr/procedures/definitions/glibc.py" target="_blank">the code for setting up glibc</a> to learn how to use it.</p>
<p>SimLibraries are defined in a special folder in the procedures directory, <code>procedures/definitions</code>.
Files in here should contain an <em>instance</em>, not a subclass, of <code>SimLibrary</code>.
The same magic that scrapes up SimProcedures will also scrape up SimLibraries and put them in <code>angr.SIM_LIBRARIES</code>, keyed on each of their common names.
For example, <code>angr/procedures/definitions/linux_loader.py</code> contains <code>lib = SimLibrary(); lib.set_library_names(&apos;ld.so&apos;, &apos;ld-linux.so&apos;, &apos;ld.so.2&apos;, &apos;ld-linux.so.2&apos;, &apos;ld-linux-x86_64.so.2&apos;)</code>, so you can access it via <code>angr.SIM_LIBRARIES[&apos;ld.so&apos;]</code> or <code>angr.SIM_LIBRARIES[&apos;ld-linux.so&apos;]</code> or any of the other names.</p>
<p>At load time, all the dynamic library dependencies are looked up in <code>SIM_LIBRARIES</code> and their procedures (or stubs!) are hooked into the project&apos;s address space to summarize any functions it can.
The code for this process is found <a href="https://github.com/angr/angr/blob/master/angr/project.py#L244" target="_blank">here</a>.</p>
<p><strong>SO</strong>, the bottom line is that you can just write your own SimProcedure and SimLibrary definitions, drop them into the directory structure, and they&apos;ll automatically be applied.
If you&apos;re adding a procedure to an existing library, you can just drop it into the appropriate catalog and it&apos;ll be picked up by all the libraries using that catalog, since most libraries construct their list of function implementation by batch-adding entire catalogs.</p>
<h3 id="case-2-out-of-tree-development-tight-integration">Case 2, out-of-tree development, tight integration</h3>
<p>If you&apos;d like to implement your procedures outside the angr repository, you can do that.
You effectively do this by just manually adding your procedures to the appropriate SimLibrary.
Just call <code>angr.SIM_LIBRARIES[libname].add(name, proc_cls)</code> to do the registration.</p>
<p>Note that this will only work if you do this before the project is loaded with <code>angr.Project</code>.
Note also that adding the procedure to <code>angr.SIM_PROCEDURES</code>, i.e. adding it directly to a catalog, will <em>not</em> work, since these catalogs are used to construct the SimLibraries only at import and are used by value, not by reference.</p>
<h3 id="case-3-out-of-tree-development-loose-integration">Case 3, out-of-tree development, loose integration</h3>
<p>Finally, if you don&apos;t want to mess with SimLibraries at all, you can do things purely on the project level with <a href="http://angr.io/api-doc/angr.html#angr.project.Project.hook_symbol" target="_blank"><code>hook_symbol</code></a>.</p>
<h2 id="syscalls">Syscalls</h2>
<p>Unlike dynamic library methods, syscall procedures aren&apos;t incorporated into the project via hooks.
Instead, whenever a syscall instruction is encountered, the basic block should end with a jumpkind of <code>Ijk_Sys</code>.
This will cause the next step to be handled by the SimOS associated with the project, which will extract the syscall number from the state and query a specialized SimLibrary with that.</p>
<p>This deserves some explanation.</p>
<p>There is a subclass of SimLibrary called SimSyscallLibrary which is used for collecting all the functions that are part of an operating system&apos;s syscall interface.
SimSyscallLibrary uses the same system for managing implementations and metadata as SimLibrary, but adds on top of it a system for managing syscall numbers for multiple ABIs (application binary interfaces, like an API but lower level).
The best example for an implementation of a SimSyscallLibrary is the <a href="https://github.com/angr/angr/blob/master/angr/procedures/definitions/linux_kernel.py" target="_blank">linux syscalls</a>.
It keeps its procedures in a normal SimProcedure catalog called <code>linux_kernel</code> and adds them to the library, then adds several syscall number mappings, including separate mappings for <code>mips-o32</code>, <code>mips-n32</code>, and <code>mips-n64</code>.</p>
<p>In order for syscalls to be supported in the first place, the project&apos;s SimOS must inherit from <a href="http://angr.io/api-doc/angr.html#angr.simos.userland.SimUserland" target="_blank"><code>SimUserland</code></a>, itself a SimOS subclass.
This requires the class to call SimUserland&apos;s constructor with a super() call that includes the <code>syscall_library</code> keyword argument, specifying the specific SimSyscallLibrary that contains the appropriate procedures and mappings for the operating system.
Additionally, the class&apos;s <code>configure_project</code> must perform a super() call including the <code>abi_list</code> keyword argument, which contains the list of ABIs that are valid for the current architecture.
If the ABI for the syscall can&apos;t be determined by just the syscall number, for example, that amd64 linux programs can use either <code>int 0x80</code> or <code>syscall</code> to invoke a syscall and these two ABIs use overlapping numbers, the SimOS cal override <code>syscall_abi()</code>, which takes a SimState and returns the name of the current syscall ABI.
This is determined for int80/syscall by examining the most recent jumpkind, since libVEX will produce different syscall jumpkinds for the different instructions.</p>
<p>Calling conventions for syscalls are a little weird right now and they ought to be refactored.
The current situation requires that <code>angr.SYSCALL_CC</code> be a map of maps <code>{arch_name: {os_name: cc_cls}}</code>, where <code>os_name</code> is the value of project.simos.name, and each of the calling convention classes must include an extra method called <code>syscall_number</code> which takes a state and return the current syscall number.
Look at the bottom of <a href="https://github.com/angr/angr/blob/master/angr/calling_conventions.py" target="_blank"><code>calling_conventions.py</code></a> to learn more about it.
Not very object-oriented at all...</p>
<p>As a side note, each syscall is given a unique address in a special object in CLE called the &quot;kernel object&quot;.
Upon a syscall, the address for the specific syscall is set into the state&apos;s instruction pointer, so it will show up in the logs.
These addresses are not hooked, they are just used to identify syscalls during analysis given only an address trace.
The test for determining if an address corresponds to a syscall is <code>project.simos.is_syscall_addr(addr)</code> and the syscall corresponding to the address can be retrieved with <code>project.simos.syscall_from_addr(addr)</code>.</p>
<h3 id="case-1-in-tree-development">Case 1, in-tree development</h3>
<p>SimSyscallLibraries are stored in the same place as the normal SimLibraries, <code>angr/procedures/definitions</code>.
These libraries don&apos;t have to specify any common name, but they can if they&apos;d like to show up in <code>SIM_LIBRARIES</code> for easy access.</p>
<p>The same thing about adding procedures to existing catalogs of dynamic library functions also applies to syscalls - implementing a linux syscall is as easy as writing the SimProcedure and dropping the implemementation into <code>angr/procedures/linux_kernel</code>.
As long as the class name matches one of the names in the number-to-name mapping of the SimLibrary (all the linux syscall numbers are included with recent releases of angr), it will be used.</p>
<p>To add a new operating system entirely, you need to implement the SimOS as well, as a subclass of SimUserland.
To integrate it into the tree, you should add it to the <code>simos</code> directory, but this is not a magic directory like <code>procedures</code>. Instead, you should add a line to <code>angr/simos/__init__.py</code> calling <code>register_simos()</code> with the OS name as it appears in <code>project.loader.main_object.os</code> and the SimOS class.
Your class should do everything described above.</p>
<h3 id="case-2-out-of-tree-development-tight-integration">Case 2, out-of-tree development, tight integration</h3>
<p>You can add syscalls to a SimSyscallLibrary the same way you can add functions to a normal SimLibrary, by tweaking the entries in <code>angr.SIM_LIBRARIES</code>.
If you&apos;re this for linux you want <code>angr.SIM_LIBRARIES[&apos;linux&apos;].add(name, proc_cls)</code>.</p>
<p>You can register a SimOS with angr from out-of-tree as well - the same <code>register_simos</code> method is just sitting there waiting for you as <code>angr.simos.register_simos(name, simos_cls)</code>.</p>
<h3 id="case-3-out-of-tree-development-loose-integration">Case 3, out-of-tree development, loose integration</h3>
<p>The SimSyscallLibrary the SimOS uses is copied from the original during setup, so it is safe to mutate.
You can directly fiddle with <code>project.simos.syscall_library</code> to manipulate an individual project&apos;s syscalls.</p>
<p>You can provide a SimOS class (not an instance) directly to the <code>Project</code> constructor via the <code>simos</code> keyword argument, so you can specify the SimOS for a project explicitly if you like.</p>
<h2 id="simdata">SimData</h2>
<p>What about when there is an import dependency on a data object?
This is easily resolved when the given library is actually loaded into memory - the relocation can just be resolved as normal.
However, when the library is not loaded (for example, <code>auto_load_libs=False</code>, or perhaps some dependency is simply missing), things get tricky.
It is not possible to guess in most cases what the value should be, or even what its size should be, so if the guest program ever dereferences a pointer to such a symbol, emulation will go off the rails.</p>
<p>CLE will warn you when this might happen:</p>
<pre><code>[22:26:58] [cle.backends.externs] |  WARNING: Symbol was allocated without a known size; emulation will fail if it is used non-opaquely: _rtld_global
[22:26:58] [cle.backends.externs] |  WARNING: Symbol was allocated without a known size; emulation will fail if it is used non-opaquely: __libc_enable_secure
[22:26:58] [cle.backends.externs] |  WARNING: Symbol was allocated without a known size; emulation will fail if it is used non-opaquely: _rtld_global_ro
[22:26:58] [cle.backends.externs] |  WARNING: Symbol was allocated without a known size; emulation will fail if it is used non-opaquely: _dl_argv
</code></pre><p>If you see this message and suspect it is causing issues (i.e. the program is actually introspecting the value of these symbols), you can resolve it by implementing and registering a SimData class, which is like a SimProcedure but for data.
Simulated data. Very cool.</p>
<p>A SimData can effectively specify some data that must be used to provide an unresolved import symbol.
It has a number of mechanisms to make this more useful, including the ability to specify relocations and subdependencies.</p>
<p>Look at the <a href="http://angr.io/api-doc/cle.html#cle.backends.externs.simdata.SimData" target="_blank">SimData class reference</a> and the <a href="https://github.com/angr/cle/tree/master/cle/backends/externs/simdata" target="_blank">existing SimData subclasses</a> for guidelines on how to do this.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="state_plugins.html" class="navigation navigation-prev " aria-label="Previous page: Writing State Plugins">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="exploration_techniques.md" class="navigation navigation-next " aria-label="Next page: TODO: Writing Exploration Techniques">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Extending the Environment Model","level":"1.6.3","depth":2,"next":{"title":"TODO: Writing Exploration Techniques","level":"1.6.4","depth":2,"path":"docs/exploration_techniques.md","ref":"docs/exploration_techniques.md","articles":[]},"previous":{"title":"Writing State Plugins","level":"1.6.2","depth":2,"path":"docs/state_plugins.md","ref":"docs/state_plugins.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"docs/environment.md","mtime":"2021-07-15T09:05:26.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-08-01T08:40:14.923Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

